<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Upload Your File</title>
<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="tlydz2f0t8nvfpn"></script>
<style>
    body { font-family: Arial, sans-serif; background: #fefefe; padding: 50px; text-align: center; }
    form { max-width: 500px; margin: auto; padding: 20px; border: 1px solid #ddd; border-radius: 10px; background: #fff; }
    input { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; }
    button { padding: 10px 20px; border: none; border-radius: 5px; background: #4CAF50; color: white; font-size: 16px; cursor: pointer; }
    button:hover { background: #45a049; }
</style>
</head>
<body>

<h2>Upload Your File</h2>
<form id="uploadForm">
    <input type="text" id="name" placeholder="Your Full Name" required>
    <input type="email" id="email" placeholder="Your Email" required>
    <input type="tel" id="phone" placeholder="Your Phone Number" required>
    <button type="button" id="dropboxButton">Choose & Upload File</button>
</form>

<script>
document.getElementById("dropboxButton").addEventListener("click", function() {
    // Validate fields first
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const phone = document.getElementById("phone").value.trim();

    if (!name || !email || !phone) {
        alert("Please fill in all fields before uploading.");
        return;
    }

    // Dropbox Chooser options
    const options = {
        success: function(files) {
            // files is an array of uploaded file info
            alert("File uploaded successfully!\nFile name: " + files[0].name + "\nUploaded by: " + name + "\nEmail: " + email);
            // Here you could also save name/email/phone to your own DB or Google Sheet if needed
        },
        cancel: function() {
            alert("Upload cancelled.");
        },
        linkType: "direct", // direct link to file
        multiselect: false,
        extensions: ['.doc', '.docx'] // only Word documents
    };
    Dropbox.choose(options);
});
</script>

</body>
</html>
